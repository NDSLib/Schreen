#: import FileTextField uix.filetextfield

#FIXME:KvViewer
#SettingsWindow
<SettingsWindow>:
    BoxLayout:
        Splitter:
            strip_size: 5  
            sizable_from: 'right'
            #orientation:"vertical"
            size_hint:.3,1
            id:setting_list_window


            ScrollView:
                #size_hint_x:.4
                #size_hint:1,1
                BoxLayout:
                    id:setting_list
                    size_hint_x:.99
                    size_hint_y: None
                    orientation: "vertical"
                    height: self.minimum_height
                    bar_width: 0

                    #MDFlatButton:
                    MDRectangleFlatIconButton:
                        id:sslSettings
                        size_hint:1,None
                        size:1,dp(40)
                        font_size: dp(8)
                        text_size:self.size
                        halign: 'left'
                        text:"SSL Settings"
                        text_color:0,0,0,.7
                        
                        on_release:root.gotoSSL()
                    MDRectangleFlatIconButton:
                        id:langSettings
                        size_hint:1,None
                        size:1,dp(40)
                        font_size: dp(8)
                        text:"言語-Lang"
                        #text_color:0,0,0,.7
                        text_color: 0.01,0.04,0.06,.7
                        on_release:root.gotoLang()
                    MDRectangleFlatIconButton:
                        id:darkmodeSettings
                        size_hint:1,None
                        size:1,dp(40)
                        font_size: dp(8)
                        text:"Darkmode"
                        text_color:0,0,0,.7
                        on_release:root.gotoDarkmode()
                    MDRectangleFlatIconButton:
                        id:developerSettings
                        size_hint:1,None
                        size:1,dp(40)
                        font_size: dp(8)
                        text:"Developer"
                        text_color:0.02,0.03,0.03,.7
                        on_release:root.gotoDeveloper()

                    MDRectangleFlatIconButton:
                    #SettingsItemButton:
                        id:helpSettings
                        size_hint:1,None
                        size:1,dp(40)
                        font_size: dp(8)
                        text:"help"
                        icon:"help"
                        text_color:0,0,.2,.7
                        #md_bg_color:.3,.3,.3,.2
                        #background_color:1,0,0,1
                        on_release:root.gotoHelp()
                                                                                                                


            #FloatLayout:
            #    pos: setting_list.pos
            #    #size_hint:None,None
            #    canvas:
            #        Color:
            #            rgb:.7,.7,.7
            #        Rectangle:
            #            pos: setting_list.pos
            #            size: 3,1000


        BoxLayout:
            orientation:"vertical"
            id:settingBoxLayout

            #size_hint:1,1
            
            MDLabel:
                text_size:self.size
                size_hint:None,None
                #halign: 'left'
                valign: 'middle'
                size:1000,75
                text:" SSL Setting"
                font_size: dp(17)
                canvas.before:
                    Color:
                        rgba: (0,0,0,1)
                    Line:
                        #width: 0.5
                        #rectangle: (self.x, self.y, self.width, self.height)
                        rectangle: (self.x,self.y,root.width,0)




            # FIXME:kvViewer
            ScreenManager:
                size_hint:1,1
                #md_bg_color:0,.9,.9,1
                id:setting_screen_manager
            #SSLSetting:



            #BoxLayout:
            #    id:messageBoxLayout
            #    #size_hint:.5,.05
            #    size_hint:None,None
            #    size:150*3,70
            #    pos_hint:{"center_x":.75,"y":.5}

            #    spacing: dp(10)
            #    padding: dp(2)  


            #    #canvas:
            #    #    Color:
            #    #        rgba: 1,0,1,1
            #    #    Rectangle:
            #    #        size: self.size
            #    #        pos: self.pos

            #    #Widget:
            #    #    size_hint:None,.5
            #    #    background_color:1,0,0,1

            #    MDRaisedButton:
            #        size_hint:None,None
            #        size:150,70
            #        text:"OK"
            #    MDRaisedButton:
            #        size_hint:None,None
            #        size:150,70
            #        text:"cancel"
            #    MDRaisedButton:
            #        size_hint:None,None
            #        size:150,70
            #        text:"apply"
            #        canvas.before:
            #            Color:
            #                rgba: (0,0,0,1)
            #            Line:
            #                #width:3
            #                rectangle: (settingBoxLayout.x,self.y + 75,root.width,0)
                


# FIXME:KvViewer
<SSLSetting>:
    id:sslSettingBoxLayout
    size_hint:1,1
    ScrollView:
        BoxLayout:
            #size_hint:1,1
            size_hint:1,None
            pos_hint:{"y":0}
            orientation:"vertical"
            padding:dp(25)
            height: self.minimum_height
            

            BoxLayout:
                size_hint:1,None
                #pos_hint:{"center_x":.5}
                MDLabel:
                    text_size: self.size
                    size_hint:None,None
                    pos_hint:{"center_y":.5}
                    size:250,40
                    text:"enable"
                    halign: 'left'
                    valign: 'middle'
                Widget:
                    size_hint:None,None
                    size:root.x * 2,40
                MDSwitch:
                    id:enableSwitch
                    size_hint:None,None
                    size:80,40
                    #pos_hint:{"center_y":.5}

            BoxLayout:
                #size_hint:1,.1
                size_hint:1,None
                #size:500,45
                #pos_hint:{"center_x":.5}
                MDLabel:
                    size_hint:None,None
                    text_size: self.size
                    pos_hint:{"center_y":.5}
                    size:500,40
                    #halign: 'left'
                    valign: 'middle'
                    text:"OpenSSL Path"
                Widget:
                    size_hint:None,None
                FileTextField:
                    id:opensslPathTextField
                    size_hint:None,None
                    pos_hint:{"center_y":.5}
                    size:500,40
                    disabled: not enableSwitch.active 
                    color_mode: "custom"
                    line_color_focus: .2,.2,.2,1
                        #self.theme_cls.opposite_bg_normal

            BoxLayout:
                size_hint:1,None
                #pos_hint:{"center_x":.5}
                MDLabel:
                    size_hint:None,None
                    size:400,40
                    pos_hint:{"center_y":.5}
                    text:"OpenSSL Version"
                Widget:
                    size_hint:.5,None
                MDLabel:
                    id:opensslVersionLabel
                    pos_hint:{"center_y":.5}
                    size:500,40
                    text:"LibreSSL 2.8.3"

            #BoxLayout:
            #    size_hint:1,None
            #    #pos_hint:{"center_x":.5}
            #    MDLabel:
            #        #font_size:dp(10)
            #        size_hint:None,None
            #        size:250,30
            #        pos_hint:{"center_y":.5}
            #        text:"SSLKey settings"
            #    Widget:
            #        size_hint:.3,None
            #    MDRectangleFlatButton:
            #        size_hint:None,None
            #        size:100,40
            #        #text_color:.2,.1,.7,1
            #        pos_hint:{"center_y":.5}
            #        text:"create Keys wizard"

            BoxLayout:
                size_hint:1,None
                #pos_hint:{"center_x":.5}
                MDLabel:
                    size_hint:None,None
                    size:250,10
                    pos_hint:{"center_y":.5}
                    text:"cert Path"
                Widget:
                    size_hint:.3,None
                FileTextField:                
                    id:certPathTextField
                    size_hint:None,None
                    size:500,40
                    disabled: not enableSwitch.active 

            BoxLayout:
                size_hint:1,None
                #pos_hint:{"center_x":.5}
                MDLabel:
                    size_hint:None,None
                    size:250,40
                    pos_hint:{"center_y":.5}
                    text:"key path"
                Widget:
                    size_hint:.3,None
                FileTextField:                
                    id:keyPathTextField
                    size_hint:None,None
                    size:500,40  
                    disabled: not enableSwitch.active 

            MDRoundFlatButton:
                size_hint:1,None
                text_color:.2,.2,.2,1
                text:"create SSL Key"
                on_release: app.root.createSSLDisplay()

    BoxLayout:
        id:messageBoxLayout
        size_hint:None,None
        size:150*3,70
        pos_hint:{"center_x":.75,"y":0}

        spacing: dp(10)
        padding: dp(2)  

        MDRaisedButton:
            size_hint:None,None
            size:150,70
            text:"OK"
            on_release:root.press_ok()
        MDRaisedButton:
            size_hint:None,None
            size:150,70
            text:"cancel"
            on_release:root.press_cancel()
        MDRaisedButton:
            size_hint:None,None
            size:150,70
            text:"apply"
            on_release:root.press_apply()
            canvas.before:
                Color:
                    rgba: (0,0,0,1)
                Line:
                    rectangle: (0,75,root.width,0)

<LangSetting>:
    BoxLayout:
        MDLabel:
            text:"LANG SETTINGS\n Coming soon........."

<DarkmodeSetting>: 
    BoxLayout:
        MDLabel:
            text:"DarkMode Settings\n Coming soon...."

<DeveloperSetting>:
    BoxLayout:
        MDLabel:
            text:"Developer Setting"







# ======== CUSTOM ==========
<SettingsItemButton>
    #size_hint_x: None
    #width: dp(150)
    #markup: False
    BoxLayout:
        spacing: dp(10)
        MDIcon:
            icon: root.icon
            theme_text_color: 'Custom'
            text_color: 0,0,0,.8
            size_hint_x: None
            width: self.texture_size[0]
        MDLabel:
            text: root.text
            theme_text_color: 'Custom'
            text_color: 0,0,0,.8
            #markup: root.markup
